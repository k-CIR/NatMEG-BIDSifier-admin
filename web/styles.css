.app-container { display:flex; height:100vh; align-items: stretch; }

:root { --accent: #860052; --accent-2: #98C9A3; --muted: #666; --bg: #f8f8f8 }
html,body { height:100%; margin:0; padding:0; }
body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, system-ui, sans-serif; padding: 0; margin:0; background: linear-gradient(180deg,#fbfcfd 0%, var(--bg) 100%); color: #222; -webkit-font-smoothing:antialiased }

.sidebar { width:220px; background:var(--accent); color:white; display:flex; flex-direction:column; padding:20px 12px; box-shadow: 2px 0 10px rgba(0,0,0,0.06); flex-shrink: 0; overflow-y: auto; }
.app-title { font-weight:700; font-size:16px; padding:8px 12px; color: #fff; margin-bottom:8px }
.brand-logos { display:flex; gap:6px; align-items:center; padding:8px 12px; margin-bottom:8px }
.brand-logos img { height:30px; width:auto; filter:brightness(1); }
.nav-items { margin-top:12px; display:flex; flex-direction:column; gap:6px; padding:8px }
/* sidebar nav sections */
.nav-section { display:flex; flex-direction:column; gap:6px; padding:8px 6px; border-bottom: 1px solid rgba(255,255,255,0.03); }
.nav-section:last-child { border-bottom: none }
.nav-section-title { color: rgba(255,255,255,0.75); font-size:12px; font-weight:700; padding:6px 16px; text-transform:uppercase; letter-spacing:0.8px }
.nav-item { padding:12px 16px; border-radius:6px; cursor:pointer; font-weight:600; color:rgba(255,255,255,0.95); }
.nav-item.active { background: rgba(255,255,255,0.08); border-left:4px solid var(--accent-2); color:white }
.sidebar-footer { margin-top:auto; padding:8px 12px; font-size:13px }
.sidebar-footer a { color:white; text-decoration:none }

.main-area { display:flex; flex-direction:column; flex:1; padding:18px; overflow:auto }
.main-content { display:flex; flex-direction:column; flex:1; padding:18px; overflow:auto }
.container { max-width:1200px; background:#fff; padding:28px; border-radius:12px; box-shadow:0 10px 36px rgba(0,0,0,0.08); margin: 0 auto; border: 1px solid rgba(0,0,0,0.03) }

.row { display:flex; gap:12px; margin-top:12px; align-items:center }
.btn { padding:10px 16px; border-radius:8px; border: none; cursor: pointer; font-weight:700; transition: box-shadow .12s ease, transform .06s ease }
.btn.primary { background: linear-gradient(90deg, var(--accent-2), #7ecf9b); color:#000; font-weight:800; box-shadow: 0 6px 14px rgba(134,0,82,0.08) }
.btn.warn { background: #ff9800; color: white }
pre { background:#111; color:#eee; padding:12px; border-radius:6px; overflow:auto; max-height: 320px; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace }

h1 { color: var(--accent); margin-bottom: 6px }
h3 { color: var(--accent); }
#jobList div { padding:6px; border-bottom:1px dashed #eee }
#tableContainer table input { font-size:12px }

/* row / status styles */
tr.row-modified { background: rgba(152,201,163,0.09) }
tr.status-run td { border-left: 2px solid rgba(117, 168, 128, 0.6) }
tr.status-check td { border-left: 2px solid rgba(255, 156, 102, 0.8) }
tr.status-processed td { border-left: 2px solid rgba(134,0,82,0.9); opacity:0.95 }
tr.status-skip td { border-left: 2px solid rgba(112, 112, 112, 0.9) }
tr.status-missing td { border-left: 2px solid rgba(63, 131, 248, 0.9) }
.status-badge { padding:3px 8px; border-radius:12px; font-size:11px; font-weight:700 }

.main-view { display: block }
.view-hidden { display:none }

/* small editor controls */
#tableEditor .controls { display:flex; gap:8px; align-items:center; margin-bottom:8px }

/* utility helpers */
.flex-row { display:flex; gap:12px; align-items:center }
.flex-gap-6 { display:flex; gap:6px; align-items:center }
.mb-8 { margin-bottom:8px }
.input-compact { padding:6px }
.input-wide { width:320px; padding:6px }
.input-sm { padding:6px; width:80px }
.input-medium { padding:6px; width:200px }
.table-container { overflow:auto; border:1px solid #eee; max-height:400px }
.browse-results { border:1px solid #eee; background:#fafafa; padding:8px; max-height:220px; overflow:auto; font-size:13px }

/* editor table styling for generated markup */
.editor-table { width:100%; border-collapse: collapse; font-size:12px }
.editor-table th, .editor-table td { border:1px solid #eee; padding:9px 8px; background: #fafafa }
.editor-table tbody td { background: #fff }
.editor-table tbody tr { height: 40px }
.editor-table thead th { background: var(--accent); color: #fff; position: sticky; top: 6px; z-index: 10; font-weight: 700; font-size:13px; box-shadow: inset 0 -1px 0 rgba(0,0,0,0.06) }
/* keep header cells visually distinct and readable */
.editor-table thead th span { font-size: 10px; }
.editor-table td input, .editor-table td select { width:100%; border:none; background:transparent; font-family:inherit; font-size:13px; padding:6px 4px }
.editor-table tbody tr:nth-child(odd) td { background:#fbfbfb }
.editor-table tbody tr:hover td { background: #f5fff6 }
.checkbox-cell { padding:6px; width:36px; text-align:center; }

/* col element for checkbox first column */
.editor-table col.col-checkbox { width:36px }

/* Per-column width helpers for the editor table ‚Äî tweak these to change column widths */
.editor-table th.col-timestamp, .editor-table td.col-timestamp { width:140px; min-width:120px }
.editor-table th.col-status, .editor-table td.col-status { width:120px; min-width:100px; text-align:center }
.editor-table th.col-participant_to, .editor-table td.col-participant_to { width:40px; min-width:40px }
.editor-table th.col-session_to, .editor-table td.col-session_to { width:40px; min-width:40px }
.editor-table th.col-task, .editor-table td.col-task { width:120px; min-width:90px }
.editor-table th.col-split, .editor-table td.col-split { width:20px; min-width:25px; text-align:center }
.editor-table th.col-run, .editor-table td.col-run { width:20px; min-width:25px; text-align:center }
.editor-table th.col-acquisition, .editor-table td.col-acquisition { width:90px; min-width:70px }
.editor-table th.col-processing, .editor-table td.col-processing { width:60px; min-width:40px }
.editor-table th.col-raw_name, .editor-table td.col-raw_name { width:200px; min-width:200px; max-width:300px; overflow:hidden; text-overflow:ellipsis; white-space:normal }
.editor-table th.col-bids_name, .editor-table td.col-bids_name { width:250px; min-width:200px; max-width:360px; overflow:hidden; text-overflow:ellipsis; white-space:normal }

/* visual suffix for split count appended to raw_name when split > 1 */
.editor-table td .split-suffix { color: #6b7280; font-size: 11px; margin-left: 6px; font-weight: 600; }
.flex-1 { flex: 1 }
.btn-small { padding:4px 8px; margin-left:8px; font-size:13px }

/* icon-only buttons with no border or background (used for tiny actions like reload) */
.btn-icon { background: transparent; border: none; box-shadow: none; padding: 4px; margin-left: 6px; font-size: 14px; line-height: 1; color: #222; border-radius: 4px; display: inline-flex; align-items: center; justify-content:center }
.btn-icon:disabled { opacity: 0.45; }
.btn-icon:hover { background: rgba(0,0,0,0.04); }

/* ensure inline SVG icons respect color & size */
.btn-icon svg { width: 14px; height: 14px; display: block; fill: currentColor; }
.btn-icon[disabled] svg { opacity: 0.6; }
.muted { color: #666 }
.between { display:flex; justify-content:space-between; gap:px; align-items:center }
.min-w-120 { min-width:120px }
.min-w-260 { min-width:260px }

/* small spacing helpers used by index.html (extracted from inline styles) */
.ml-8 { margin-left: 8px; }
.spacer-20 { width: 20px; }
.input-medium-sm { padding:6px; width:180px }

/* Additional Electron-like polish and overrides */
.btn.secondary { background: var(--accent); color: #fff }
.btn.primary:hover, .btn.secondary:hover { transform: translateY(-1px) }
.btn:disabled { background: #f0f0f0; color: #b0b0b0; cursor: not-allowed; box-shadow:none }

/* keyboard / focus accessibility */
.btn:focus, input:focus, select:focus, textarea:focus { outline: 3px solid rgba(134,0,82,0.12); outline-offset: 2px }

/* Slightly increase container padding to match electron visuals */
.container { padding: 24px 28px; }
.card { background: #fff; border-radius:8px; padding:20px; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }

/* Make config buttons visually consistent and same size */
#main-config .btn { padding: 8px 14px; min-height: 36px; display: inline-flex; align-items: center; border-radius:6px }
#main-config .input-wide-compact { padding: 8px; }
#main-config .btn.primary { padding: 8px 14px }

/* Config section polish to match Electron look */
#main-config .form-section {
    border: 1px solid rgba(0,0,0,0.06);
    padding: 12px 14px;
    border-radius: 8px;
    margin-bottom: 12px;
    background: linear-gradient(180deg,#ffffff,#fbfbfb);
}

#main-config .form-section h3 { color: var(--accent); margin-bottom: 6px; }
#main-config .form-section .hint { color: var(--muted); font-size: 12px; display:block; margin-bottom:8px }

/* Browse buttons should stand out in blue like electron's Browse... button */
#main-config .btn[onclick*="browseDirectory"], #main-config .btn[onclick*="browseFile"] {
    background: #0066cc;
    color: white;
    border: none;
    padding: 8px 12px;
    box-shadow: none;
}
#main-config .btn[onclick*="browseDirectory"]:hover, #main-config .btn[onclick*="browseFile"]:hover { transform: translateY(-1px); opacity: 0.95 }

/* Load/Reload actions are secondary but visible */
#main-config #loadConfigBtn, #main-config #reloadConfigBtn { background: rgba(134,0,130,0.06); color: var(--accent); border: 1px solid rgba(134,0,82,0.06); }

/* Make save button green matching the primary accent */
#main-config #saveConfigBtn { background: linear-gradient(90deg, var(--accent-2), #7ecf9b); color: #000; font-weight:700 }
#main-config #saveConfigBtn.saved { background: linear-gradient(90deg,#4ade80,#22c55e); color:#022; box-shadow: 0 0 0 3px rgba(34,197,94,0.12) inset; }
#configSaveState { margin-left:6px; color:var(--muted); font-weight:600 }
#configSaveState.visible { color:#6f8779; font-weight:700; margin-left:8px }

/* more compact form-group spacing */
#main-config .form-group { margin-bottom: 8px }

/* config form styling */
.config-form { display: grid; grid-template-columns: 1fr; gap:18px; }
.form-section { background: #fff; border-radius:8px; padding:14px; border:1px solid #eee }
.form-section h3 { margin-bottom:12px; color: var(--accent); font-size:16px }
.form-group { display:flex; flex-direction:column; gap:6px; margin-bottom:8px }
.form-group label { font-weight:700; font-size:13px }
.form-controls { display:flex; gap:8px; align-items:center }
.input-wide-compact { padding:8px; width:100%; border-radius:6px; border:1px solid #ddd }
.input-text { padding:8px; border-radius:6px; border:1px solid #ddd; width:100%; box-sizing: border-box }
.hint { color:var(--muted); font-size:13px }

.table-container { background: white; border-radius:8px; padding:6px }
.controls { display:flex; gap:8px; align-items:center; margin-bottom:8px; flex-wrap:wrap }
.controls .input-wide { width: 360px }
.batch-actions { display:none; gap:6px; align-items:center; padding:6px; border-radius:6px; border:1px solid #eee; background:#f9f9f9 }
#batchActionsDiv, .batch-actions { font-size: 14px; }

/* make batch selection controls slightly larger and easier to click */
#batchActionsDiv select, #batchActionsDiv .input-sm, #batchActionsDiv button, .batch-actions select, .batch-actions button {
    font-size: 10px;
    padding: 8px 10px;
    min-height: 36px;
    min-width: 100px;
}

#batchActionsDiv #applyBatchStatusBtn, .batch-actions #applyBatchStatusBtn { padding: 8px 12px; }
.batch-actions #selectedCount { font-size: 10px; font-weight:400; color:#333 }

.job-list { margin-top: 10px; max-height: 220px; overflow: auto; padding-top: 6px }
.job-list div { padding:6px; border-bottom: 1px dashed #eee }

.execute-output { margin-top: 8px; display:none }
.console-output { max-height:160px; overflow:auto; background:#111; color:#eee; padding:10px; border-radius:6px }
.artifacts { margin-top:6px }

.nav-item { padding: 15px 18px; border-left:4px solid transparent; display:flex; align-items:center; gap:10px; font-weight:600; transition: background 0.15s }
.nav-item:hover { background: rgba(255,255,255,0.06) }
.nav-item.active { background: rgba(255,255,255,0.08); border-left-color: var(--accent-2) }

/* step number badge like electron app */
.nav-item .step-number {
    display:inline-block;
    width:30px; height:30px; border-radius:50%;
    background: rgba(255,255,255,0.18);
    color: white; text-align:center; line-height:30px; font-weight:700; font-size:13px; flex-shrink:0;
}
.nav-item .step-label { flex:1; }
.nav-item.active .step-number { background: var(--accent-2); color: #000; }

/* header and small layout improvements */
.app-title { padding: 18px 12px; font-size: 18px }
.brand-logos { padding: 10px 12px; border-bottom: 1px solid rgba(255,255,255,0.05); }
.brand-logos img { height: 34px }

.container h1 { margin-bottom: 8px; font-size: 24px; letter-spacing: -0.2px }
.container h2 { margin-bottom: 6px; font-size: 18px }
.note { background: linear-gradient(180deg,#ffffff,#fbfbfb); padding: 14px; border-radius: 10px; margin-bottom: 12px; color: #444; border: 1px solid rgba(0,0,0,0.03) }

/* responsive: collapse the sidebar into a horizontal bar on small screens */
@media (max-width: 900px) {
    .app-container { flex-direction: column }
    .sidebar { width:100%; display:flex; flex-direction:row; align-items:center; gap:10px; padding:10px 14px }
    .nav-items { display:flex; flex-direction:row; gap:8px; overflow:auto; padding:6px }
    .main-area { padding:12px }
    .container { margin: 0 12px }
}
.progress-container { display:none; margin-top: 12px }
/* Progress bar */
.progress { height: 10px; background: #eee; border-radius: 6px; overflow: hidden; position: relative }
.progress .bar { height: 100%; width: 0%; background: linear-gradient(90deg, var(--accent-2), #7ecf9b); transition: width 350ms ease }
.progress.indeterminate .bar { position: absolute; left: -40%; width: 60%; animation: prog-indeterminate 1.2s linear infinite }
.progress.complete .bar { width: 100% }
.progress .bar.failed { background: linear-gradient(90deg, #ff8a80, #ff5252) }
.progress-text { font-size: 13px; margin-top: 6px }

@keyframes prog-indeterminate { 0% { left: -40% } 50% { left: 30% } 100% { left: 100% } }
.console-output.small { max-height: 240px }

/* header bar inside container */
.header-bar { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-bottom:8px }
.header-bar .subtitle { color: #666; font-size:13px; margin-top: 4px }
.header-actions { display:flex; gap:12px; align-items:center }

/* connection badge in header */
.connection-badge { display:flex; align-items:center; gap:10px; padding:6px 10px; border-radius:999px; border:1px solid rgba(0,0,0,0.04); background: rgba(255,255,255,0.6); min-width:120px; justify-content:center }
.connection-dot { width:14px; height:14px; border-radius:50%; display:inline-block; border: 2px solid rgba(255,255,255,0.8); box-sizing: border-box }
.connection-badge.disconnected .connection-dot { background: #ff9800; box-shadow: 0 0 8px rgba(255,152,0,0.18); }
.connection-badge.connected .connection-dot { background: #22c55e; box-shadow: 0 0 10px rgba(34,197,94,0.22); }
.connection-text { font-weight:700; color: #ff9800; }
.connection-badge.connected .connection-text { color: #0f5132; } /* darker green for readability */
.file-row { display:flex; gap:12px; align-items:center; margin-top:6px }
.file-row label.btn.secondary { display:inline-flex; align-items:center; gap:8px }

/* report stats */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 18px; margin-top:12px }
.stat-card { text-align:center; padding:18px }
.stat-number { font-size:36px; font-weight:700 }
.stat-number.accent2 { color: var(--accent-2) }
.stat-number.accent { color: var(--accent) }
.stat-number.error { color: #ff6b6b }
.report-details p { color:#666 }
.report-details h3 { color: var(--accent); margin-bottom: 6px }
.stat-label { color: #666; margin-top:8px }

/* Larger primary CTA used in Execute view */
#runBidsifyBtn { font-size: 16px; padding: 15px 40px; }

/* editor controls spacing */
#tableEditor .input-wide-compact { padding:8px; min-width: 220px; border-radius:6px; border:1px solid #ddd }
#tableEditor #editorRowCount { font-weight:700; color:#666 }
#tableEditor .btn[disabled] { opacity:0.7 }

/* Slightly stronger stat cards */
.stats-grid .card { padding: 25px; box-shadow: 0 2px 8px rgba(0,0,0,0.1) }

/* small active-view badge for debugging which view is visible */
.active-view-badge {
    position: fixed;
    right: 14px;
    bottom: 14px;
    background: rgba(0,0,0,0.6);
    color: #fff;
    padding: 8px 12px;
    border-radius: 8px;
    font-weight: 700;
    font-size: 12px;
    z-index: 9999;
    pointer-events: none;
    box-shadow: 0 6px 20px rgba(0,0,0,0.25);
}

/* Modal Save As dialog */
.modal.hidden { display: none; }
.modal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 99999; display: flex; align-items: center; justify-content: center; -webkit-user-select: none; user-select: none; }
.modal-backdrop { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: transparent; }
.modal-content { position: relative; z-index: 2; background: #fff; padding: 18px; border-radius: 10px; box-shadow: 0 12px 44px rgba(0,0,0,0.25); width: 90%; max-width: 720px; }
.modal-content h3 { margin:0 0 6px 0; color: var(--accent); }
.modal-content .hint { margin:0 0 8px 0; color: var(--muted); }

/* File browser button */
.btn-browse { padding: 10px 14px; margin-left: 4px; font-size: 12px; }

/* File browser modal */
#fileBrowserModal { width: 90%; max-width: 950px; max-height: 85vh; overflow: auto; }
.filebrowser-nav { display: flex; gap: 8px; align-items: center; margin-bottom: 12px; flex-wrap: wrap; }
.filebrowser-nav .path-parts { display: flex; gap: 4px; align-items: center; flex: 1; min-width: 0; overflow: auto; padding-bottom: 4px; }
.filebrowser-nav .path-parts button { padding: 6px 10px; font-size: 12px; background: #f5f5f5; border: 1px solid #ddd; border-radius: 4px; cursor: pointer; white-space: nowrap; transition: background 0.15s ease, border-color 0.15s ease; -webkit-appearance: none; -moz-appearance: none; appearance: none; font-family: inherit; -webkit-touch-callout: none; box-sizing: border-box; }\n.filebrowser-nav .path-parts button:hover { background: rgba(134,0,82,0.1); border-color: #ccc; }\n.filebrowser-nav .path-parts button:active { background: rgba(134,0,82,0.15); }\n.filebrowser-nav .path-parts button:focus { outline: 2px solid #860052; outline-offset: -2px; -webkit-tap-highlight-color: transparent; }
.filebrowser-nav .breadcrumb-sep { color: #999; margin: 0 2px; flex-shrink: 0; }
.filebrowser-list { border: 1px solid #ddd; border-radius: 8px; max-height: 500px; overflow-y: auto; background: #fff; box-shadow: inset 0 1px 3px rgba(0,0,0,0.05); -webkit-overflow-scrolling: touch; -webkit-user-select: none; user-select: none; outline: none; }

/* Scrollbar styling for file list */
.filebrowser-list::-webkit-scrollbar { width: 10px; }
.filebrowser-list::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 8px; }
.filebrowser-list::-webkit-scrollbar-thumb { background: #c0c0c0; border-radius: 5px; }
.filebrowser-list::-webkit-scrollbar-thumb:hover { background: #a0a0a0; }

/* Firefox scrollbar */
.filebrowser-list { scrollbar-color: #c0c0c0 #f1f1f1; scrollbar-width: thin; }

.filebrowser-item { padding: 12px 14px; border-bottom: 1px solid #f0f0f0; cursor: pointer; display: flex; align-items: center; gap: 10px; font-size: 13px; transition: background 0.15s ease, color 0.15s ease, box-shadow 0.15s ease; user-select: none; -webkit-user-select: none; -moz-user-select: none; -webkit-touch-callout: none; box-sizing: border-box; position: relative; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }\n.filebrowser-item:hover { background: rgba(134,0,82,0.12); box-shadow: inset 0 0 0 1px rgba(134,0,82,0.15); }
.filebrowser-item:active, .filebrowser-item:focus-within { background: rgba(134,0,82,0.2); }
.filebrowser-item.dir::before { content: "üìÅ"; display: inline-block; margin-right: 6px; margin-left: 0; font-size: 14px; line-height: 1; flex-shrink: 0; -webkit-text-rendering: optimizeLegibility; font-variant: normal; text-rendering: auto; }
.filebrowser-item.file::before { content: "üìÑ"; display: inline-block; margin-right: 6px; margin-left: 0; font-size: 14px; line-height: 1; flex-shrink: 0; -webkit-text-rendering: optimizeLegibility; font-variant: normal; text-rendering: auto; }
.filebrowser-item.dir { font-weight: 600; color: #1a1a1a; }
.filebrowser-item.file { color: #333; }
.filebrowser-item.disabled { opacity: 0.5; cursor: not-allowed; user-select: none; }
.filebrowser-item.disabled:hover { background: #fff; }

/* File item name and size layout */
.filebrowser-item-name { flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.filebrowser-item-size { color: #999; font-size: 12px; flex-shrink: 0; min-width: 60px; text-align: right; }

/* Path input with browse button wrapper */
.path-input-group { display: flex; gap: 8px; align-items: center; }
.path-input-group input { flex: 1; }
.path-input-group .btn-browse { margin: 0; }

